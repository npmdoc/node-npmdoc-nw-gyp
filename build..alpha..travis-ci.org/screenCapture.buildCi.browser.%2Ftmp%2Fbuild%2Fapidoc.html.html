<html><head></head><body><div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a href="https://github.com/nwjs/nw-gyp#readme">nw-gyp (v3.4.0)</a>
</h1>
<h4>NW.js (node-webkit) native addon build tool</h4>
<div class="apidocSectionDiv"><a href="#apidoc.tableOfContents" id="apidoc.tableOfContents"><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp">module nw-gyp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.nw-gyp">
            function <span class="apidocSignatureSpan"></span>nw-gyp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp">
            function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.parseArgv">
            function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.parseArgv
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.setupDevDir">
            function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.setupDevDir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.spawn">
            function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.spawn
            <span class="apidocSignatureSpan">(command, args, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.usage">
            function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.usage
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.clean">
            function <span class="apidocSignatureSpan">nw-gyp.</span>clean
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.configure">
            function <span class="apidocSignatureSpan">nw-gyp.</span>configure
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.find_node_directory">
            function <span class="apidocSignatureSpan">nw-gyp.</span>find_node_directory
            <span class="apidocSignatureSpan">(scriptLocation, processObj)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.install">
            function <span class="apidocSignatureSpan">nw-gyp.</span>install
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.list">
            function <span class="apidocSignatureSpan">nw-gyp.</span>list
            <span class="apidocSignatureSpan">(gyp, args, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.nw_gyp">
            function <span class="apidocSignatureSpan">nw-gyp.</span>nw_gyp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.nw_process_release">
            function <span class="apidocSignatureSpan">nw-gyp.</span>nw_process_release
            <span class="apidocSignatureSpan">(argv, gyp)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.process_release">
            function <span class="apidocSignatureSpan">nw-gyp.</span>process_release
            <span class="apidocSignatureSpan">(argv, gyp, defaultVersion, defaultRelease)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.rebuild">
            function <span class="apidocSignatureSpan">nw-gyp.</span>rebuild
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.remove">
            function <span class="apidocSignatureSpan">nw-gyp.</span>remove
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.toString">
            function <span class="apidocSignatureSpan">nw-gyp.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.configDefs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.configDefs.devdir.prototype</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp">module nw-gyp.Gyp</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.Gyp">
            function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.super_">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype">module nw-gyp.Gyp.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.parseArgv">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>parseArgv
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.setupDevDir">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>setupDevDir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.spawn">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>spawn
            <span class="apidocSignatureSpan">(command, args, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.usage">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>usage
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>aliases</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>configDefs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>package</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>shorthands</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>version</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype.configDefs">module nw-gyp.Gyp.prototype.configDefs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.arch">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>arch
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.cafile">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>cafile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.debug">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>debug
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>devdir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.directory">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>directory
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.dist-url">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>dist-url
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.ensure">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>ensure
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.help">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>help
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.jobs">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>jobs
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.loglevel">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>loglevel
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.make">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>make
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.msvs_version">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>msvs_version
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.nodedir">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>nodedir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.proxy">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>proxy
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.python">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>python
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.solution">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>solution
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.tarball">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>tarball
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.thin">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>thin
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype.configDefs.devdir.prototype">module nw-gyp.Gyp.prototype.configDefs.devdir.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.entityify">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>entityify
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.isAlpha">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>isAlpha
            <span class="apidocSignatureSpan">( )</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.isDigit">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>isDigit
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.supplant">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>supplant
            <span class="apidocSignatureSpan">(e)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype.parseArgv">module nw-gyp.Gyp.prototype.parseArgv</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.parseArgv.parseArgv">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>parseArgv
            <span class="apidocSignatureSpan">(argv)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype.setupDevDir">module nw-gyp.Gyp.prototype.setupDevDir</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.setupDevDir.setupDevDir">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>setupDevDir
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype.spawn">module nw-gyp.Gyp.prototype.spawn</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.spawn.spawn">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>spawn
            <span class="apidocSignatureSpan">(command, args, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.Gyp.prototype.usage">module nw-gyp.Gyp.prototype.usage</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.Gyp.prototype.usage.usage">
            function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>usage
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.clean">module nw-gyp.clean</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.clean.clean">
            function <span class="apidocSignatureSpan">nw-gyp.</span>clean
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.clean.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.configure">module nw-gyp.configure</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.configure.configure">
            function <span class="apidocSignatureSpan">nw-gyp.</span>configure
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.configure.</span>test</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.configure.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.find_node_directory">module nw-gyp.find_node_directory</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.find_node_directory.find_node_directory">
            function <span class="apidocSignatureSpan">nw-gyp.</span>find_node_directory
            <span class="apidocSignatureSpan">(scriptLocation, processObj)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.install">module nw-gyp.install</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.install.install">
            function <span class="apidocSignatureSpan">nw-gyp.</span>install
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">nw-gyp.install.</span>test</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.install.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.list">module nw-gyp.list</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.list.list">
            function <span class="apidocSignatureSpan">nw-gyp.</span>list
            <span class="apidocSignatureSpan">(gyp, args, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.list.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.nw_process_release">module nw-gyp.nw_process_release</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.nw_process_release.nw_process_release">
            function <span class="apidocSignatureSpan">nw-gyp.</span>nw_process_release
            <span class="apidocSignatureSpan">(argv, gyp)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.process_release">module nw-gyp.process_release</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.process_release.process_release">
            function <span class="apidocSignatureSpan">nw-gyp.</span>process_release
            <span class="apidocSignatureSpan">(argv, gyp, defaultVersion, defaultRelease)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.rebuild">module nw-gyp.rebuild</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.rebuild.rebuild">
            function <span class="apidocSignatureSpan">nw-gyp.</span>rebuild
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.rebuild.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.remove">module nw-gyp.remove</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.remove.remove">
            function <span class="apidocSignatureSpan">nw-gyp.</span>remove
            <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">nw-gyp.remove.</span>usage</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.nw-gyp.toString">module nw-gyp.toString</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.nw-gyp.toString.toString">
            function <span class="apidocSignatureSpan">nw-gyp.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp" id="apidoc.module.nw-gyp">module nw-gyp</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.nw-gyp" id="apidoc.element.nw-gyp.nw-gyp">
        function <span class="apidocSignatureSpan"></span>nw-gyp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function gyp() {
  return new Gyp()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp" id="apidoc.element.nw-gyp.Gyp">
        function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Gyp() {
  var self = this

  this.commands = {}

  commands.forEach(function (command) {
    self.commands[command] = function (argv, callback) {
      log.verbose('command', command, argv)
      return require('./' + command)(self, argv, callback)
    }
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.parseArgv" id="apidoc.element.nw-gyp.Gyp.prototype.parseArgv">
        function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.parseArgv
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseOpts(argv) {
  this.opts = nopt(this.configDefs, this.shorthands, argv)
  this.argv = this.opts.argv.remain.slice()

  var commands = this.todo = []

  // create a copy of the argv array with aliases mapped
  argv = this.argv.map(function (arg) {
    // is this an alias?
    if (arg in this.aliases) {
      arg = this.aliases[arg]
    }
    return arg
  }, this)

  // process the mapped args into "command" objects ("name" and "args" props)
  argv.slice().forEach(function (arg) {
    if (arg in this.commands) {
      var args = argv.splice(0, argv.indexOf(arg))
      argv.shift()
      if (commands.length &gt; 0) {
        commands[commands.length - 1].args = args
      }
      commands.push({ name: arg, args: [] })
    }
  }, this)
  if (commands.length &gt; 0) {
    commands[commands.length - 1].args = argv.splice(0)
  }

  // support for inheriting config env variables from npm
  var npm_config_prefix = 'npm_config_'
  Object.keys(process.env).forEach(function (name) {
    if (name.indexOf(npm_config_prefix) !== 0) return
    var val = process.env[name]
    if (name === npm_config_prefix + 'loglevel') {
      log.level = val
    } else {
      // add the user-defined options to the config
      name = name.substring(npm_config_prefix.length)
      // gyp@741b7f1 enters an infinite loop when it encounters
      // zero-length options so ensure those don't get through.
      if (name) this.opts[name] = val
    }
  }, this)

  if (this.opts.loglevel) {
    log.level = this.opts.loglevel
  }
  log.resume()

  this.setupDevDir()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.setupDevDir" id="apidoc.element.nw-gyp.Gyp.prototype.setupDevDir">
        function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.setupDevDir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">Gyp.prototype.setupDevDir = function () {
  if (this.opts.devdir) {
    this.devDir = this.opts.devdir
    return
  }

  var homeDir = process.env.HOME || process.env.USERPROFILE
  if (!homeDir) {
    throw new Error(
      "nw-gyp requires --devdir parameter or the user's home directory is " +
      "specified in either of the environmental variables HOME or USERPROFILE"
    )
  }
  this.devDir = path.resolve(homeDir, '.nw-gyp')
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.spawn" id="apidoc.element.nw-gyp.Gyp.prototype.spawn">
        function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.spawn
        <span class="apidocSignatureSpan">(command, args, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function spawn(command, args, opts) {
  if (!opts) opts = {}
  if (!opts.silent &amp;&amp; !opts.stdio) {
    opts.stdio = [ 0, 1, 2 ]
  }
  var cp = child_process.spawn(command, args, opts)
  log.info('spawn', command)
  log.info('spawn args', args)
  return cp
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.usage" id="apidoc.element.nw-gyp.Gyp.prototype.usage">
        function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp.prototype.usage
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function usage() {
  var str = [
      ''
    , '  Usage: nw-gyp &lt;command&gt; [options]'
    , ''
    , '  where &lt;command&gt; is one of:'
    , commands.map(function (c) {
        return '    - ' + c + ' - ' + require('./' + c).usage
      }).join('\n')
    , ''
    , 'nw-gyp@' + this.version + '  ' + path.resolve(__dirname, '..')
    , 'node@' + process.versions.node
  ].join('\n')
  return str
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.clean" id="apidoc.element.nw-gyp.clean">
        function <span class="apidocSignatureSpan">nw-gyp.</span>clean
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clean(gyp, argv, callback) {

  // Remove the 'build' dir
  var buildDir = 'build'

  log.verbose('clean', 'removing "%s" directory', buildDir)
  rm(buildDir, callback)

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.configure" id="apidoc.element.nw-gyp.configure">
        function <span class="apidocSignatureSpan">nw-gyp.</span>configure
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function configure(gyp, argv, callback) {

  var python = gyp.opts.python || process.env.PYTHON || 'python2'
    , buildDir = path.resolve('build')
    , configNames = [ 'config.gypi', 'common.gypi' ]
    , configs = []
    , nodeDir
    , release = processRelease(argv, gyp, process.version, process.release)
    , isV13 = false

  findPython(python, function (err, found) {
    if (err) {
      callback(err)
    } else {
      python = found
      getNodeDir()
    }
  })

  function getNodeDir () {

    // 'python' should be set by now
    process.env.PYTHON = python

    if (gyp.opts.nodedir) {
      // --nodedir was specified. use that for the dev files
      nodeDir = gyp.opts.nodedir.replace(/^~/, osenv.home())

      log.verbose('get node dir', 'compiling against specified --nodedir dev files: %s', nodeDir)
      createBuildDir()

    } else {
      // if no --nodedir specified, ensure node dependencies are installed
      if ('v' + release.version !== process.version) {
        // if --target was given, then determine a target version to compile for
        log.verbose('get node dir', 'compiling against --target node version: %s', release.version)
      } else {
        // if no --target was specified then use the current host node version
        log.verbose('get node dir', 'no --target version specified, falling back to host node version: %s', release.version)
      }

      if (!release.semver) {
        // could not parse the version string with semver
        return callback(new Error('Invalid version number: ' + release.version))
      }

      // ensure that the target node version's dev files are installed
      gyp.opts.ensure = true
      gyp.commands.install([ release.version ], function (err, version) {
        if (err) return callback(err)
        log.verbose('get node dir', 'target node version installed:', release.versionDir)
        nodeDir = path.resolve(gyp.devDir, release.versionDir)
        createBuildDir()
      })
    }
  }

  function createBuildDir () {
    log.verbose('build dir', 'attempting to create "build" dir: %s', buildDir)
    mkdirp(buildDir, function (err, isNew) {
      if (err) return callback(err)
      log.verbose('build dir', '"build" dir needed to be created?', isNew)
      createConfigFile()
    })
  }

  function createConfigFile (err) {
    if (err) return callback(err)

    var configFilename = 'config.gypi'
    var configPath = path.resolve(buildDir, configFilename)

    log.verbose('build/' + configFilename, 'creating config file')

    var config = process.config || {}
      , defaults = config.target_defaults
      , variables = config.variables

    // default "config.variables"
    if (!variables) variables = config.variables = {}

    // default "config.defaults"
    if (!defaults) defaults = config.target_defaults = {}

    // don't inherit the "defaults" from node's `process.config` object.
    // doing so could cause problems in cases where the `node` executable was
    // compiled on a different machine (with different lib/include paths) than
    // the machine where the addon is being built to
    defaults.cflags = []
    defaults.defines = []
    defaults.include_dirs = []
    defaults.libraries = []

    // set the default_configuration prop
    if ('debug' in gyp.opts) {
      defaults.default_configuration = gyp.opts.debug ? 'Debug' : 'Release'
    }
    if (!defaults.default_configuration) {
      defaults.default_configuration = 'Release'
    }

    // set the target_arch variable
    var isLegacy = semver.lt(release.version, '0.11.0-rc1')
    isV13 = semver.gt(release.version, '0.13.0-alpha0')

    if (isLegacy &amp;&amp; (process.platform == 'win32' || process.platform == 'darwin')) {
      variables.target_arch = gyp.opts.arch || 'ia32'
    } else
      variables.target_arch = gyp.opts.arch || process.arch || 'ia32'

    if (isLegacy &amp;&amp; win) {
      if (variables.target_arch != 'ia32') {
        callback(new Error('Only 32bit libraries can be built on windows'))
      }
    }

    // set the node development directory
    variables.nodedir = nodeDir

    // do ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.find_node_directory" id="apidoc.element.nw-gyp.find_node_directory">
        function <span class="apidocSignatureSpan">nw-gyp.</span>find_node_directory
        <span class="apidocSignatureSpan">(scriptLocation, processObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function findNodeDirectory(scriptLocation, processObj) {
  // set dirname and process if not passed in
  // this facilitates regression tests
  if (scriptLocation === undefined) {
    scriptLocation = __dirname
  }
  if (processObj === undefined) {
    processObj = process
  }

  // Have a look to see what is above us, to try and work out where we are
  npm_parent_directory = path.join(scriptLocation, '../../../..')
  log.verbose('nw-gyp root', 'npm_parent_directory is '
              + path.basename(npm_parent_directory))
  node_root_dir = ""

  log.verbose('nw-gyp root', 'Finding node root directory')
  if (path.basename(npm_parent_directory) === 'deps') {
    // We are in a build directory where this script lives in
    // deps/npm/node_modules/node-gyp/lib
    node_root_dir = path.join(npm_parent_directory, '..')
    log.verbose('nw-gyp root', 'in build directory, root = '
                + node_root_dir)
  } else if (path.basename(npm_parent_directory) === 'node_modules') {
    // We are in a node install directory where this script lives in
    // lib/node_modules/npm/node_modules/node-gyp/lib or
    // node_modules/npm/node_modules/node-gyp/lib depending on the
    // platform
    if (processObj.platform === 'win32') {
      node_root_dir = path.join(npm_parent_directory, '..')
    } else {
      node_root_dir = path.join(npm_parent_directory, '../..')
    }
    log.verbose('nw-gyp root', 'in install directory, root = '
                + node_root_dir)
  } else {
    // We don't know where we are, try working it out from the location
    // of the node binary
    var node_dir = path.dirname(processObj.execPath)
    var directory_up = path.basename(node_dir)
    if (directory_up === 'bin') {
      node_root_dir = path.join(node_dir, '..')
    } else if (directory_up === 'Release' || directory_up === 'Debug') {
      // If we are a recently built node, and the directory structure
      // is that of a repository. If we are on Windows then we only need
      // to go one level up, everything else, two
      if (processObj.platform === 'win32') {
        node_root_dir = path.join(node_dir, '..')
      } else {
        node_root_dir = path.join(node_dir, '../..')
      }
    }
    // Else return the default blank, "".
  }
  return node_root_dir
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.install" id="apidoc.element.nw-gyp.install">
        function <span class="apidocSignatureSpan">nw-gyp.</span>install
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function install(gyp, argv, callback) {

  var release = processRelease(argv, gyp, process.version, process.release)

  // ensure no double-callbacks happen
  function cb (err) {
    if (cb.done) return
    cb.done = true
    if (err) {
      log.warn('install', 'got an error, rolling back install')
      // roll-back the install if anything went wrong
      gyp.commands.remove([ release.versionDir ], function (err2) {
        callback(err)
      })
    } else {
      callback(null, release.version)
    }
  }

  // Determine which node dev files version we are installing
  log.verbose('install', 'input version string %j', release.version)

  if (!release.semver) {
    // could not parse the version string with semver
    return callback(new Error('Invalid version number: ' + release.version))
  }

  // "legacy" versions are &lt; 0.11.0-rc1
  var isLegacy = semver.lt(release.version, '0.11.0-rc1')
  log.verbose('installing legacy version?', isLegacy)

  var isV13 = semver.gt(release.version, '0.13.0-alpha0')

  if (semver.lt(release.version, '0.3.2')) {
    return callback(new Error('Minimum target version is `0.3.2` or greater. Got: ' + release.version))
  }

  // 0.x.y-pre versions are not published yet and cannot be installed. Bail.
  if (release.semver.prerelease[0] === 'pre') {
    log.verbose('detected "pre" node version', release.version)
    if (gyp.opts.nodedir) {
      log.verbose('--nodedir flag was passed; skipping install', gyp.opts.nodedir)
      callback()
    } else {
      callback(new Error('"pre" versions of node cannot be installed, use the --nodedir flag instead'))
    }
    return
  }

  // flatten version into String
  log.verbose('install', 'installing version: %s', release.versionDir)

  // the directory where the dev files will be installed
  var devDir = path.resolve(gyp.devDir, release.versionDir)

  // If '--ensure' was passed, then don't *always* install the version;
  // check if it is already installed, and only install when needed
  if (gyp.opts.ensure) {
    log.verbose('install', '--ensure was passed, so won\'t reinstall if already installed')
    fs.stat(devDir, function (err, stat) {
      if (err) {
        if (err.code == 'ENOENT') {
          log.verbose('install', 'version not already installed, continuing with install', release.version)
          go()
        } else if (err.code == 'EACCES') {
          eaccesFallback()
        } else {
          cb(err)
        }
        return
      }
      log.verbose('install', 'version is already installed, need to check "installVersion"')
      var installVersionFile = path.resolve(devDir, 'installVersion')
      fs.readFile(installVersionFile, 'ascii', function (err, ver) {
        if (err &amp;&amp; err.code != 'ENOENT') {
          return cb(err)
        }
        var installVersion = parseInt(ver, 10) || 0
        log.verbose('got "installVersion"', installVersion)
        log.verbose('needs "installVersion"', gyp.package.installVersion)
        if (installVersion &lt; gyp.package.installVersion) {
          log.verbose('install', 'version is no good; reinstalling')
          go()
        } else {
          log.verbose('install', 'version is good')
          cb()
        }
      })
    })
  } else {
    go()
  }

  function getContentSha(res, callback) {
    var shasum = crypto.createHash('sha256')
    res.on('data', function (chunk) {
      shasum.update(chunk)
    }).on('end', function () {
      callback(null, shasum.digest('hex'))
    })
  }

  function go () {

    log.verbose('ensuring nodedir is created', devDir)

    // first create the dir for the node dev files
    mkdir(devDir, function (err, created) {
      if (err) {
        if (err.code == 'EACCES') {
          eaccesFallback()
        } else {
          cb(err)
        }
        return
      }

      if (created) {
        log.verbose('created nodedir', created)
      }

      // now download the node tarball
      var tarPath = gyp.opts.tarball
      var badDownload = false
        , extractCount = 0
        , gunzip = zlib.createGunzip()
        , extracter = tar.Extract({ path: devD ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (!release.semver) {
      // could not parse the version string with semver
      return callback(new Error('Invalid version number: ' + release.version))
    }

    // ensure that the target node version's dev files are installed
    gyp.opts.ensure = true
    gyp.commands.<span class="apidocCodeKeywordSpan">install</span>([ release.version ], function (err, version) {
      if (err) return callback(err)
      log.verbose('get node dir', 'target node version installed:', release.versionDir)
      nodeDir = path.resolve(gyp.devDir, release.versionDir)
      createBuildDir()
    })
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.list" id="apidoc.element.nw-gyp.list">
        function <span class="apidocSignatureSpan">nw-gyp.</span>list
        <span class="apidocSignatureSpan">(gyp, args, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function list(gyp, args, callback) {

  var devDir = gyp.devDir
  log.verbose('list', 'using nw-gyp dir:', devDir)

  // readdir() the node-gyp dir
  fs.readdir(devDir, onreaddir)

  function onreaddir (err, versions) {
    if (err &amp;&amp; err.code != 'ENOENT') {
      return callback(err)
    }
    if (Array.isArray(versions)) {
      versions = versions.filter(function (v) { return v != 'current' })
    } else {
      versions = []
    }
    callback(null, versions)
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.nw_gyp" id="apidoc.element.nw-gyp.nw_gyp">
        function <span class="apidocSignatureSpan">nw-gyp.</span>nw_gyp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function gyp() {
  return new Gyp()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.nw_process_release" id="apidoc.element.nw-gyp.nw_process_release">
        function <span class="apidocSignatureSpan">nw-gyp.</span>nw_process_release
        <span class="apidocSignatureSpan">(argv, gyp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function processRelease(argv, gyp) {
  // nw-gyp: `defaultVersion` and `defaultRelease` are meaningless for NW.js
  var version = (semver.valid(argv[0]) &amp;&amp; argv[0]) || gyp.opts.target
    , versionSemver = semver.parse(version)
    , overrideDistUrl = gyp.opts['dist-url'] || gyp.opts.disturl
    , distBaseUrl
    , baseUrl
    , libUrl32
    , libUrl64
    , nodeLibUrl32
    , nodeLibUrl32
    , tarballUrl
    , canGetHeaders

  if (!versionSemver) {
    // not a valid semver string, nothing we can do
    return { version: version }
  }
  // flatten version into String
  version = versionSemver.version

  // nw-gyp: `overrideDistUrl` should be redirected to NW.js by default
  if (!overrideDistUrl) {
    overrideDistUrl = 'http://node-webkit.s3.amazonaws.com';
  }

  distBaseUrl = overrideDistUrl.replace(/\/+$/, '')

  distBaseUrl += '/v' + version + '/'

  baseUrl = distBaseUrl
  nodeLibUrl32 = resolveLibUrl('node', baseUrl, 'ia32', versionSemver.major)
  nodeLibUrl64 = resolveLibUrl('node', baseUrl, 'x64', versionSemver.major)
  libUrl32 = resolveLibUrl('nw', baseUrl, 'ia32', versionSemver.major)
  libUrl64 = resolveLibUrl('nw', baseUrl, 'x64', versionSemver.major)

  tarballUrl = url.resolve(baseUrl, 'nw-headers-v' + version + '.tar.gz')

  return {
    version: version,
    semver: versionSemver,
    name: 'nw',
    baseUrl: baseUrl,
    tarballUrl: tarballUrl,
    shasumsUrl: url.resolve(baseUrl, 'SHASUMS256.txt'),
    versionDir: version,
    libUrl32: libUrl32,
    libUrl64: libUrl64,
    nodeLibUrl32: nodeLibUrl32,
    nodeLibUrl64: nodeLibUrl64,
    libPath32: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl32).path)),
    libPath64: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl64).path)),
    nodeLibPath32: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(nodeLibUrl32).path)),
    nodeLibPath64: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(nodeLibUrl64).path))
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.process_release" id="apidoc.element.nw-gyp.process_release">
        function <span class="apidocSignatureSpan">nw-gyp.</span>process_release
        <span class="apidocSignatureSpan">(argv, gyp, defaultVersion, defaultRelease)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function processRelease(argv, gyp, defaultVersion, defaultRelease) {
  var version = (semver.valid(argv[0]) &amp;&amp; argv[0]) || gyp.opts.target || defaultVersion
    , versionSemver = semver.parse(version)
    , overrideDistUrl = gyp.opts['dist-url'] || gyp.opts.disturl
    , isDefaultVersion
    , isIojs
    , name
    , distBaseUrl
    , baseUrl
    , libUrl32
    , libUrl64
    , tarballUrl
    , canGetHeaders

  if (!versionSemver) {
    // not a valid semver string, nothing we can do
    return { version: version }
  }
  // flatten version into String
  version = versionSemver.version

  // defaultVersion should come from process.version so ought to be valid semver
  isDefaultVersion = version === semver.parse(defaultVersion).version

  // can't use process.release if we're using --target=x.y.z
  if (!isDefaultVersion)
    defaultRelease = null

  if (defaultRelease) {
    // v3 onward, has process.release
    name = defaultRelease.name.replace(/io\.js/, 'iojs') // remove the '.' for directory naming purposes
    isIojs = name === 'iojs'
  } else {
    // old node or alternative --target=
    // semver.satisfies() doesn't like prerelease tags so test major directly
    isIojs = versionSemver.major &gt;= 1 &amp;&amp; versionSemver.major &lt; 4
    name = isIojs ? 'iojs' : 'node'
  }

  // check for the nvm.sh standard mirror env variables
  if (!overrideDistUrl) {
    if (isIojs) {
      if (process.env.IOJS_ORG_MIRROR) {
        overrideDistUrl = process.env.IOJS_ORG_MIRROR
      } else if (process.env.NVM_IOJS_ORG_MIRROR) {// remove on next semver-major
        overrideDistUrl = process.env.NVM_IOJS_ORG_MIRROR
        log.warn('download',
            'NVM_IOJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, ' +
            'please use IOJS_ORG_MIRROR')
      }
    } else {
      if (process.env.NODEJS_ORG_MIRROR) {
        overrideDistUrl = process.env.NODEJS_ORG_MIRROR
      } else if (process.env.NVM_NODEJS_ORG_MIRROR) {// remove on next semver-major
        overrideDistUrl = process.env.NVM_NODEJS_ORG_MIRROR
        log.warn('download',
            'NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, ' +
            'please use NODEJS_ORG_MIRROR')
      }
    }
  }


  if (overrideDistUrl)
    distBaseUrl = overrideDistUrl.replace(/\/+$/, '')
  else
    distBaseUrl = isIojs ? 'https://iojs.org/download/release' : 'https://nodejs.org/dist'
  distBaseUrl += '/v' + version + '/'

  // new style, based on process.release so we have a lot of the data we need
  if (defaultRelease &amp;&amp; defaultRelease.headersUrl &amp;&amp; !overrideDistUrl) {
    baseUrl = url.resolve(defaultRelease.headersUrl, './')
    libUrl32 = resolveLibUrl(name, defaultRelease.libUrl || baseUrl || distBaseUrl, 'x86', versionSemver.major)
    libUrl64 = resolveLibUrl(name, defaultRelease.libUrl || baseUrl || distBaseUrl, 'x64', versionSemver.major)

    return {
      version: version,
      semver: versionSemver,
      name: name,
      baseUrl: baseUrl,
      tarballUrl: defaultRelease.headersUrl,
      shasumsUrl: url.resolve(baseUrl, 'SHASUMS256.txt'),
      versionDir: (name !== 'node' ? name + '-' : '') + version,
      libUrl32: libUrl32,
      libUrl64: libUrl64,
      libPath32: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl32).path)),
      libPath64: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl64).path))
    }
  }

  // older versions without process.release are captured here and we have to make
  // a lot of assumptions, additionally if you --target=x.y.z then we can't use the
  // current process.release

  baseUrl = distBaseUrl
  libUrl32 = resolveLibUrl(name, baseUrl, 'x86', versionSemver.major)
  libUrl64 = resolveLibUrl(name, baseUrl, 'x64', versionSemver.major)
  // making the bold assumption that anything with a version number &gt;3.0.0 will
  // have a *-headers.tar.gz file in its dist location, even some frankenstein
  // custom version
  canGetHeaders = semver.satisfies(versionSemver, headersTarballRange)
  tarballUrl = url.resolve(baseUrl, name + '-v' + version + (canGetHeaders ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.rebuild" id="apidoc.element.nw-gyp.rebuild">
        function <span class="apidocSignatureSpan">nw-gyp.</span>rebuild
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rebuild(gyp, argv, callback) {

  gyp.todo.push(
      { name: 'clean', args: [] }
    , { name: 'configure', args: argv }
    , { name: 'build', args: [] }
  )
  process.nextTick(callback)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.remove" id="apidoc.element.nw-gyp.remove">
        function <span class="apidocSignatureSpan">nw-gyp.</span>remove
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(gyp, argv, callback) {

  var devDir = gyp.devDir
  log.verbose('remove', 'using nw-gyp dir:', devDir)

  // get the user-specified version to remove
  var version = argv[0] || gyp.opts.target
  log.verbose('remove', 'removing target version:', version)

  if (!version) {
    return callback(new Error('You must specify a version number to remove. Ex: "' + process.version + '"'))
  }

  var versionSemver = semver.parse(version)
  if (versionSemver) {
    // flatten the version Array into a String
    version = versionSemver.version
  }

  var versionPath = path.resolve(gyp.devDir, version)
  log.verbose('remove', 'removing development files for version:', version)

  // first check if its even installed
  fs.stat(versionPath, function (err, stat) {
    if (err) {
      if (err.code == 'ENOENT') {
        callback(null, 'version was already uninstalled: ' + version)
      } else {
        callback(err)
      }
      return
    }
    // Go ahead and delete the dir
    rm(versionPath, callback)
  })

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ensure no double-callbacks happen
function cb (err) {
  if (cb.done) return
  cb.done = true
  if (err) {
    log.warn('install', 'got an error, rolling back install')
    // roll-back the install if anything went wrong
    gyp.commands.<span class="apidocCodeKeywordSpan">remove</span>([ release.versionDir ], function (err2) {
      callback(err)
    })
  } else {
    callback(null, release.version)
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.toString" id="apidoc.element.nw-gyp.toString">
        function <span class="apidocSignatureSpan">nw-gyp.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
    return text;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          }

          var chunks = []
          res.on('data', function (chunk) {
            chunks.push(chunk)
          })
          res.on('end', function () {
            var lines = Buffer.concat(chunks).<span class="apidocCodeKeywordSpan">toString</span>().trim().split('\n')
            lines.forEach(function (line) {
var items = line.trim().split(/\s+/)
if (items.length !== 2) return

// 0035d18e2dcf9aad669b1c7c07319e17abfe3762  ./node-v0.11.4.tar.gz
var name = items[1].replace(/^\.\//, '')
expectShasums[name] = items[0]
...</pre></li>
    </ul>








</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp" id="apidoc.module.nw-gyp.Gyp">module nw-gyp.Gyp</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.Gyp" id="apidoc.element.nw-gyp.Gyp.Gyp">
        function <span class="apidocSignatureSpan">nw-gyp.</span>Gyp
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Gyp() {
  var self = this

  this.commands = {}

  commands.forEach(function (command) {
    self.commands[command] = function (argv, callback) {
      log.verbose('command', command, argv)
      return require('./' + command)(self, argv, callback)
    }
  })
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.super_" id="apidoc.element.nw-gyp.Gyp.super_">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function EventEmitter() {
  EventEmitter.init.call(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype" id="apidoc.module.nw-gyp.Gyp.prototype">module nw-gyp.Gyp.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.parseArgv" id="apidoc.element.nw-gyp.Gyp.prototype.parseArgv">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>parseArgv
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseOpts(argv) {
  this.opts = nopt(this.configDefs, this.shorthands, argv)
  this.argv = this.opts.argv.remain.slice()

  var commands = this.todo = []

  // create a copy of the argv array with aliases mapped
  argv = this.argv.map(function (arg) {
    // is this an alias?
    if (arg in this.aliases) {
      arg = this.aliases[arg]
    }
    return arg
  }, this)

  // process the mapped args into "command" objects ("name" and "args" props)
  argv.slice().forEach(function (arg) {
    if (arg in this.commands) {
      var args = argv.splice(0, argv.indexOf(arg))
      argv.shift()
      if (commands.length &gt; 0) {
        commands[commands.length - 1].args = args
      }
      commands.push({ name: arg, args: [] })
    }
  }, this)
  if (commands.length &gt; 0) {
    commands[commands.length - 1].args = argv.splice(0)
  }

  // support for inheriting config env variables from npm
  var npm_config_prefix = 'npm_config_'
  Object.keys(process.env).forEach(function (name) {
    if (name.indexOf(npm_config_prefix) !== 0) return
    var val = process.env[name]
    if (name === npm_config_prefix + 'loglevel') {
      log.level = val
    } else {
      // add the user-defined options to the config
      name = name.substring(npm_config_prefix.length)
      // gyp@741b7f1 enters an infinite loop when it encounters
      // zero-length options so ensure those don't get through.
      if (name) this.opts[name] = val
    }
  }, this)

  if (this.opts.loglevel) {
    log.level = this.opts.loglevel
  }
  log.resume()

  this.setupDevDir()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.setupDevDir" id="apidoc.element.nw-gyp.Gyp.prototype.setupDevDir">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>setupDevDir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setupDevDir = function () {
  if (this.opts.devdir) {
    this.devDir = this.opts.devdir
    return
  }

  var homeDir = process.env.HOME || process.env.USERPROFILE
  if (!homeDir) {
    throw new Error(
      "nw-gyp requires --devdir parameter or the user's home directory is " +
      "specified in either of the environmental variables HOME or USERPROFILE"
    )
  }
  this.devDir = path.resolve(homeDir, '.nw-gyp')
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.spawn" id="apidoc.element.nw-gyp.Gyp.prototype.spawn">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>spawn
        <span class="apidocSignatureSpan">(command, args, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function spawn(command, args, opts) {
  if (!opts) opts = {}
  if (!opts.silent &amp;&amp; !opts.stdio) {
    opts.stdio = [ 0, 1, 2 ]
  }
  var cp = child_process.spawn(command, args, opts)
  log.info('spawn', command)
  log.info('spawn args', args)
  return cp
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // execute `gyp` from the current target nodedir
    argv.unshift(gyp_script)

    // make sure python uses files that came with this particular node package
    var pypath = new PathArray(process.env, 'PYTHONPATH')
    pypath.unshift(path.join(__dirname, '..', 'gyp', 'pylib'))

    var cp = gyp.<span class="apidocCodeKeywordSpan">spawn</span>(python, argv)
    cp.on('exit', onCpExit)
  })
}

/**
 * Called when the `gyp` child process exits.
 */
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.usage" id="apidoc.element.nw-gyp.Gyp.prototype.usage">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>usage
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function usage() {
  var str = [
      ''
    , '  Usage: nw-gyp &lt;command&gt; [options]'
    , ''
    , '  where &lt;command&gt; is one of:'
    , commands.map(function (c) {
        return '    - ' + c + ' - ' + require('./' + c).usage
      }).join('\n')
    , ''
    , 'nw-gyp@' + this.version + '  ' + path.resolve(__dirname, '..')
    , 'node@' + process.versions.node
  ].join('\n')
  return str
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype.configDefs" id="apidoc.module.nw-gyp.Gyp.prototype.configDefs">module nw-gyp.Gyp.prototype.configDefs</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.arch" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.arch">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>arch
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.cafile" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.cafile">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>cafile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.debug" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.debug">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>debug
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Boolean() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>devdir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.directory" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.directory">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>directory
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.dist-url" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.dist-url">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>dist-url
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.ensure" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.ensure">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>ensure
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Boolean() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.help" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.help">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>help
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Boolean() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.jobs" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.jobs">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>jobs
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.loglevel" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.loglevel">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>loglevel
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.make" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.make">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>make
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.msvs_version" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.msvs_version">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>msvs_version
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.nodedir" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.nodedir">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>nodedir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.proxy" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.proxy">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>proxy
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.python" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.python">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>python
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.solution" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.solution">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>solution
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.tarball" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.tarball">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>tarball
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.thin" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.thin">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.</span>thin
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function String() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype.configDefs.devdir.prototype" id="apidoc.module.nw-gyp.Gyp.prototype.configDefs.devdir.prototype">module nw-gyp.Gyp.prototype.configDefs.devdir.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.entityify" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.entityify">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>entityify
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">entityify = function (){return this.replace(/&amp;/g,"&amp;amp;").replace(/&lt;/g,"&amp;lt;").replace(/&gt;/g,"&amp;gt;"
)}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.isAlpha" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.isAlpha">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>isAlpha
        <span class="apidocSignatureSpan">( )</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isAlpha = function ( ){return this&gt;="a"&amp;&amp;this&lt;="z\uffff"||this&gt;="A"&amp;&amp;this&lt;="Z\uffff"}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.isDigit" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.isDigit">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>isDigit
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">isDigit = function (){return this&gt;="0"&amp;&amp;
this&lt;="9"}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.supplant" id="apidoc.element.nw-gyp.Gyp.prototype.configDefs.devdir.prototype.supplant">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.configDefs.devdir.prototype.</span>supplant
        <span class="apidocSignatureSpan">(e)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">supplant = function (e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var r=e[n];return typeof
r=="string"||typeof r=="number"?r:t})}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype.parseArgv" id="apidoc.module.nw-gyp.Gyp.prototype.parseArgv">module nw-gyp.Gyp.prototype.parseArgv</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.parseArgv.parseArgv" id="apidoc.element.nw-gyp.Gyp.prototype.parseArgv.parseArgv">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>parseArgv
        <span class="apidocSignatureSpan">(argv)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parseOpts(argv) {
  this.opts = nopt(this.configDefs, this.shorthands, argv)
  this.argv = this.opts.argv.remain.slice()

  var commands = this.todo = []

  // create a copy of the argv array with aliases mapped
  argv = this.argv.map(function (arg) {
    // is this an alias?
    if (arg in this.aliases) {
      arg = this.aliases[arg]
    }
    return arg
  }, this)

  // process the mapped args into "command" objects ("name" and "args" props)
  argv.slice().forEach(function (arg) {
    if (arg in this.commands) {
      var args = argv.splice(0, argv.indexOf(arg))
      argv.shift()
      if (commands.length &gt; 0) {
        commands[commands.length - 1].args = args
      }
      commands.push({ name: arg, args: [] })
    }
  }, this)
  if (commands.length &gt; 0) {
    commands[commands.length - 1].args = argv.splice(0)
  }

  // support for inheriting config env variables from npm
  var npm_config_prefix = 'npm_config_'
  Object.keys(process.env).forEach(function (name) {
    if (name.indexOf(npm_config_prefix) !== 0) return
    var val = process.env[name]
    if (name === npm_config_prefix + 'loglevel') {
      log.level = val
    } else {
      // add the user-defined options to the config
      name = name.substring(npm_config_prefix.length)
      // gyp@741b7f1 enters an infinite loop when it encounters
      // zero-length options so ensure those don't get through.
      if (name) this.opts[name] = val
    }
  }, this)

  if (this.opts.loglevel) {
    log.level = this.opts.loglevel
  }
  log.resume()

  this.setupDevDir()
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype.setupDevDir" id="apidoc.module.nw-gyp.Gyp.prototype.setupDevDir">module nw-gyp.Gyp.prototype.setupDevDir</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.setupDevDir.setupDevDir" id="apidoc.element.nw-gyp.Gyp.prototype.setupDevDir.setupDevDir">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>setupDevDir
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setupDevDir = function () {
  if (this.opts.devdir) {
    this.devDir = this.opts.devdir
    return
  }

  var homeDir = process.env.HOME || process.env.USERPROFILE
  if (!homeDir) {
    throw new Error(
      "nw-gyp requires --devdir parameter or the user's home directory is " +
      "specified in either of the environmental variables HOME or USERPROFILE"
    )
  }
  this.devDir = path.resolve(homeDir, '.nw-gyp')
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype.spawn" id="apidoc.module.nw-gyp.Gyp.prototype.spawn">module nw-gyp.Gyp.prototype.spawn</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.spawn.spawn" id="apidoc.element.nw-gyp.Gyp.prototype.spawn.spawn">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>spawn
        <span class="apidocSignatureSpan">(command, args, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function spawn(command, args, opts) {
  if (!opts) opts = {}
  if (!opts.silent &amp;&amp; !opts.stdio) {
    opts.stdio = [ 0, 1, 2 ]
  }
  var cp = child_process.spawn(command, args, opts)
  log.info('spawn', command)
  log.info('spawn args', args)
  return cp
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    // execute `gyp` from the current target nodedir
    argv.unshift(gyp_script)

    // make sure python uses files that came with this particular node package
    var pypath = new PathArray(process.env, 'PYTHONPATH')
    pypath.unshift(path.join(__dirname, '..', 'gyp', 'pylib'))

    var cp = gyp.<span class="apidocCodeKeywordSpan">spawn</span>(python, argv)
    cp.on('exit', onCpExit)
  })
}

/**
 * Called when the `gyp` child process exits.
 */
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.Gyp.prototype.usage" id="apidoc.module.nw-gyp.Gyp.prototype.usage">module nw-gyp.Gyp.prototype.usage</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.Gyp.prototype.usage.usage" id="apidoc.element.nw-gyp.Gyp.prototype.usage.usage">
        function <span class="apidocSignatureSpan">nw-gyp.Gyp.prototype.</span>usage
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function usage() {
  var str = [
      ''
    , '  Usage: nw-gyp &lt;command&gt; [options]'
    , ''
    , '  where &lt;command&gt; is one of:'
    , commands.map(function (c) {
        return '    - ' + c + ' - ' + require('./' + c).usage
      }).join('\n')
    , ''
    , 'nw-gyp@' + this.version + '  ' + path.resolve(__dirname, '..')
    , 'node@' + process.versions.node
  ].join('\n')
  return str
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.clean" id="apidoc.module.nw-gyp.clean">module nw-gyp.clean</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.clean.clean" id="apidoc.element.nw-gyp.clean.clean">
        function <span class="apidocSignatureSpan">nw-gyp.</span>clean
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function clean(gyp, argv, callback) {

  // Remove the 'build' dir
  var buildDir = 'build'

  log.verbose('clean', 'removing "%s" directory', buildDir)
  rm(buildDir, callback)

}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.configure" id="apidoc.module.nw-gyp.configure">module nw-gyp.configure</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.configure.configure" id="apidoc.element.nw-gyp.configure.configure">
        function <span class="apidocSignatureSpan">nw-gyp.</span>configure
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function configure(gyp, argv, callback) {

  var python = gyp.opts.python || process.env.PYTHON || 'python2'
    , buildDir = path.resolve('build')
    , configNames = [ 'config.gypi', 'common.gypi' ]
    , configs = []
    , nodeDir
    , release = processRelease(argv, gyp, process.version, process.release)
    , isV13 = false

  findPython(python, function (err, found) {
    if (err) {
      callback(err)
    } else {
      python = found
      getNodeDir()
    }
  })

  function getNodeDir () {

    // 'python' should be set by now
    process.env.PYTHON = python

    if (gyp.opts.nodedir) {
      // --nodedir was specified. use that for the dev files
      nodeDir = gyp.opts.nodedir.replace(/^~/, osenv.home())

      log.verbose('get node dir', 'compiling against specified --nodedir dev files: %s', nodeDir)
      createBuildDir()

    } else {
      // if no --nodedir specified, ensure node dependencies are installed
      if ('v' + release.version !== process.version) {
        // if --target was given, then determine a target version to compile for
        log.verbose('get node dir', 'compiling against --target node version: %s', release.version)
      } else {
        // if no --target was specified then use the current host node version
        log.verbose('get node dir', 'no --target version specified, falling back to host node version: %s', release.version)
      }

      if (!release.semver) {
        // could not parse the version string with semver
        return callback(new Error('Invalid version number: ' + release.version))
      }

      // ensure that the target node version's dev files are installed
      gyp.opts.ensure = true
      gyp.commands.install([ release.version ], function (err, version) {
        if (err) return callback(err)
        log.verbose('get node dir', 'target node version installed:', release.versionDir)
        nodeDir = path.resolve(gyp.devDir, release.versionDir)
        createBuildDir()
      })
    }
  }

  function createBuildDir () {
    log.verbose('build dir', 'attempting to create "build" dir: %s', buildDir)
    mkdirp(buildDir, function (err, isNew) {
      if (err) return callback(err)
      log.verbose('build dir', '"build" dir needed to be created?', isNew)
      createConfigFile()
    })
  }

  function createConfigFile (err) {
    if (err) return callback(err)

    var configFilename = 'config.gypi'
    var configPath = path.resolve(buildDir, configFilename)

    log.verbose('build/' + configFilename, 'creating config file')

    var config = process.config || {}
      , defaults = config.target_defaults
      , variables = config.variables

    // default "config.variables"
    if (!variables) variables = config.variables = {}

    // default "config.defaults"
    if (!defaults) defaults = config.target_defaults = {}

    // don't inherit the "defaults" from node's `process.config` object.
    // doing so could cause problems in cases where the `node` executable was
    // compiled on a different machine (with different lib/include paths) than
    // the machine where the addon is being built to
    defaults.cflags = []
    defaults.defines = []
    defaults.include_dirs = []
    defaults.libraries = []

    // set the default_configuration prop
    if ('debug' in gyp.opts) {
      defaults.default_configuration = gyp.opts.debug ? 'Debug' : 'Release'
    }
    if (!defaults.default_configuration) {
      defaults.default_configuration = 'Release'
    }

    // set the target_arch variable
    var isLegacy = semver.lt(release.version, '0.11.0-rc1')
    isV13 = semver.gt(release.version, '0.13.0-alpha0')

    if (isLegacy &amp;&amp; (process.platform == 'win32' || process.platform == 'darwin')) {
      variables.target_arch = gyp.opts.arch || 'ia32'
    } else
      variables.target_arch = gyp.opts.arch || process.arch || 'ia32'

    if (isLegacy &amp;&amp; win) {
      if (variables.target_arch != 'ia32') {
        callback(new Error('Only 32bit libraries can be built on windows'))
      }
    }

    // set the node development directory
    variables.nodedir = nodeDir

    // do ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.find_node_directory" id="apidoc.module.nw-gyp.find_node_directory">module nw-gyp.find_node_directory</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.find_node_directory.find_node_directory" id="apidoc.element.nw-gyp.find_node_directory.find_node_directory">
        function <span class="apidocSignatureSpan">nw-gyp.</span>find_node_directory
        <span class="apidocSignatureSpan">(scriptLocation, processObj)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function findNodeDirectory(scriptLocation, processObj) {
  // set dirname and process if not passed in
  // this facilitates regression tests
  if (scriptLocation === undefined) {
    scriptLocation = __dirname
  }
  if (processObj === undefined) {
    processObj = process
  }

  // Have a look to see what is above us, to try and work out where we are
  npm_parent_directory = path.join(scriptLocation, '../../../..')
  log.verbose('nw-gyp root', 'npm_parent_directory is '
              + path.basename(npm_parent_directory))
  node_root_dir = ""

  log.verbose('nw-gyp root', 'Finding node root directory')
  if (path.basename(npm_parent_directory) === 'deps') {
    // We are in a build directory where this script lives in
    // deps/npm/node_modules/node-gyp/lib
    node_root_dir = path.join(npm_parent_directory, '..')
    log.verbose('nw-gyp root', 'in build directory, root = '
                + node_root_dir)
  } else if (path.basename(npm_parent_directory) === 'node_modules') {
    // We are in a node install directory where this script lives in
    // lib/node_modules/npm/node_modules/node-gyp/lib or
    // node_modules/npm/node_modules/node-gyp/lib depending on the
    // platform
    if (processObj.platform === 'win32') {
      node_root_dir = path.join(npm_parent_directory, '..')
    } else {
      node_root_dir = path.join(npm_parent_directory, '../..')
    }
    log.verbose('nw-gyp root', 'in install directory, root = '
                + node_root_dir)
  } else {
    // We don't know where we are, try working it out from the location
    // of the node binary
    var node_dir = path.dirname(processObj.execPath)
    var directory_up = path.basename(node_dir)
    if (directory_up === 'bin') {
      node_root_dir = path.join(node_dir, '..')
    } else if (directory_up === 'Release' || directory_up === 'Debug') {
      // If we are a recently built node, and the directory structure
      // is that of a repository. If we are on Windows then we only need
      // to go one level up, everything else, two
      if (processObj.platform === 'win32') {
        node_root_dir = path.join(node_dir, '..')
      } else {
        node_root_dir = path.join(node_dir, '../..')
      }
    }
    // Else return the default blank, "".
  }
  return node_root_dir
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.install" id="apidoc.module.nw-gyp.install">module nw-gyp.install</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.install.install" id="apidoc.element.nw-gyp.install.install">
        function <span class="apidocSignatureSpan">nw-gyp.</span>install
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function install(gyp, argv, callback) {

  var release = processRelease(argv, gyp, process.version, process.release)

  // ensure no double-callbacks happen
  function cb (err) {
    if (cb.done) return
    cb.done = true
    if (err) {
      log.warn('install', 'got an error, rolling back install')
      // roll-back the install if anything went wrong
      gyp.commands.remove([ release.versionDir ], function (err2) {
        callback(err)
      })
    } else {
      callback(null, release.version)
    }
  }

  // Determine which node dev files version we are installing
  log.verbose('install', 'input version string %j', release.version)

  if (!release.semver) {
    // could not parse the version string with semver
    return callback(new Error('Invalid version number: ' + release.version))
  }

  // "legacy" versions are &lt; 0.11.0-rc1
  var isLegacy = semver.lt(release.version, '0.11.0-rc1')
  log.verbose('installing legacy version?', isLegacy)

  var isV13 = semver.gt(release.version, '0.13.0-alpha0')

  if (semver.lt(release.version, '0.3.2')) {
    return callback(new Error('Minimum target version is `0.3.2` or greater. Got: ' + release.version))
  }

  // 0.x.y-pre versions are not published yet and cannot be installed. Bail.
  if (release.semver.prerelease[0] === 'pre') {
    log.verbose('detected "pre" node version', release.version)
    if (gyp.opts.nodedir) {
      log.verbose('--nodedir flag was passed; skipping install', gyp.opts.nodedir)
      callback()
    } else {
      callback(new Error('"pre" versions of node cannot be installed, use the --nodedir flag instead'))
    }
    return
  }

  // flatten version into String
  log.verbose('install', 'installing version: %s', release.versionDir)

  // the directory where the dev files will be installed
  var devDir = path.resolve(gyp.devDir, release.versionDir)

  // If '--ensure' was passed, then don't *always* install the version;
  // check if it is already installed, and only install when needed
  if (gyp.opts.ensure) {
    log.verbose('install', '--ensure was passed, so won\'t reinstall if already installed')
    fs.stat(devDir, function (err, stat) {
      if (err) {
        if (err.code == 'ENOENT') {
          log.verbose('install', 'version not already installed, continuing with install', release.version)
          go()
        } else if (err.code == 'EACCES') {
          eaccesFallback()
        } else {
          cb(err)
        }
        return
      }
      log.verbose('install', 'version is already installed, need to check "installVersion"')
      var installVersionFile = path.resolve(devDir, 'installVersion')
      fs.readFile(installVersionFile, 'ascii', function (err, ver) {
        if (err &amp;&amp; err.code != 'ENOENT') {
          return cb(err)
        }
        var installVersion = parseInt(ver, 10) || 0
        log.verbose('got "installVersion"', installVersion)
        log.verbose('needs "installVersion"', gyp.package.installVersion)
        if (installVersion &lt; gyp.package.installVersion) {
          log.verbose('install', 'version is no good; reinstalling')
          go()
        } else {
          log.verbose('install', 'version is good')
          cb()
        }
      })
    })
  } else {
    go()
  }

  function getContentSha(res, callback) {
    var shasum = crypto.createHash('sha256')
    res.on('data', function (chunk) {
      shasum.update(chunk)
    }).on('end', function () {
      callback(null, shasum.digest('hex'))
    })
  }

  function go () {

    log.verbose('ensuring nodedir is created', devDir)

    // first create the dir for the node dev files
    mkdir(devDir, function (err, created) {
      if (err) {
        if (err.code == 'EACCES') {
          eaccesFallback()
        } else {
          cb(err)
        }
        return
      }

      if (created) {
        log.verbose('created nodedir', created)
      }

      // now download the node tarball
      var tarPath = gyp.opts.tarball
      var badDownload = false
        , extractCount = 0
        , gunzip = zlib.createGunzip()
        , extracter = tar.Extract({ path: devD ...</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    if (!release.semver) {
      // could not parse the version string with semver
      return callback(new Error('Invalid version number: ' + release.version))
    }

    // ensure that the target node version's dev files are installed
    gyp.opts.ensure = true
    gyp.commands.<span class="apidocCodeKeywordSpan">install</span>([ release.version ], function (err, version) {
      if (err) return callback(err)
      log.verbose('get node dir', 'target node version installed:', release.versionDir)
      nodeDir = path.resolve(gyp.devDir, release.versionDir)
      createBuildDir()
    })
  }
}
...</pre></li>
    </ul>






</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.list" id="apidoc.module.nw-gyp.list">module nw-gyp.list</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.list.list" id="apidoc.element.nw-gyp.list.list">
        function <span class="apidocSignatureSpan">nw-gyp.</span>list
        <span class="apidocSignatureSpan">(gyp, args, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function list(gyp, args, callback) {

  var devDir = gyp.devDir
  log.verbose('list', 'using nw-gyp dir:', devDir)

  // readdir() the node-gyp dir
  fs.readdir(devDir, onreaddir)

  function onreaddir (err, versions) {
    if (err &amp;&amp; err.code != 'ENOENT') {
      return callback(err)
    }
    if (Array.isArray(versions)) {
      versions = versions.filter(function (v) { return v != 'current' })
    } else {
      versions = []
    }
    callback(null, versions)
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.nw_process_release" id="apidoc.module.nw-gyp.nw_process_release">module nw-gyp.nw_process_release</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.nw_process_release.nw_process_release" id="apidoc.element.nw-gyp.nw_process_release.nw_process_release">
        function <span class="apidocSignatureSpan">nw-gyp.</span>nw_process_release
        <span class="apidocSignatureSpan">(argv, gyp)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function processRelease(argv, gyp) {
  // nw-gyp: `defaultVersion` and `defaultRelease` are meaningless for NW.js
  var version = (semver.valid(argv[0]) &amp;&amp; argv[0]) || gyp.opts.target
    , versionSemver = semver.parse(version)
    , overrideDistUrl = gyp.opts['dist-url'] || gyp.opts.disturl
    , distBaseUrl
    , baseUrl
    , libUrl32
    , libUrl64
    , nodeLibUrl32
    , nodeLibUrl32
    , tarballUrl
    , canGetHeaders

  if (!versionSemver) {
    // not a valid semver string, nothing we can do
    return { version: version }
  }
  // flatten version into String
  version = versionSemver.version

  // nw-gyp: `overrideDistUrl` should be redirected to NW.js by default
  if (!overrideDistUrl) {
    overrideDistUrl = 'http://node-webkit.s3.amazonaws.com';
  }

  distBaseUrl = overrideDistUrl.replace(/\/+$/, '')

  distBaseUrl += '/v' + version + '/'

  baseUrl = distBaseUrl
  nodeLibUrl32 = resolveLibUrl('node', baseUrl, 'ia32', versionSemver.major)
  nodeLibUrl64 = resolveLibUrl('node', baseUrl, 'x64', versionSemver.major)
  libUrl32 = resolveLibUrl('nw', baseUrl, 'ia32', versionSemver.major)
  libUrl64 = resolveLibUrl('nw', baseUrl, 'x64', versionSemver.major)

  tarballUrl = url.resolve(baseUrl, 'nw-headers-v' + version + '.tar.gz')

  return {
    version: version,
    semver: versionSemver,
    name: 'nw',
    baseUrl: baseUrl,
    tarballUrl: tarballUrl,
    shasumsUrl: url.resolve(baseUrl, 'SHASUMS256.txt'),
    versionDir: version,
    libUrl32: libUrl32,
    libUrl64: libUrl64,
    nodeLibUrl32: nodeLibUrl32,
    nodeLibUrl64: nodeLibUrl64,
    libPath32: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl32).path)),
    libPath64: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl64).path)),
    nodeLibPath32: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(nodeLibUrl32).path)),
    nodeLibPath64: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(nodeLibUrl64).path))
  }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.process_release" id="apidoc.module.nw-gyp.process_release">module nw-gyp.process_release</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.process_release.process_release" id="apidoc.element.nw-gyp.process_release.process_release">
        function <span class="apidocSignatureSpan">nw-gyp.</span>process_release
        <span class="apidocSignatureSpan">(argv, gyp, defaultVersion, defaultRelease)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function processRelease(argv, gyp, defaultVersion, defaultRelease) {
  var version = (semver.valid(argv[0]) &amp;&amp; argv[0]) || gyp.opts.target || defaultVersion
    , versionSemver = semver.parse(version)
    , overrideDistUrl = gyp.opts['dist-url'] || gyp.opts.disturl
    , isDefaultVersion
    , isIojs
    , name
    , distBaseUrl
    , baseUrl
    , libUrl32
    , libUrl64
    , tarballUrl
    , canGetHeaders

  if (!versionSemver) {
    // not a valid semver string, nothing we can do
    return { version: version }
  }
  // flatten version into String
  version = versionSemver.version

  // defaultVersion should come from process.version so ought to be valid semver
  isDefaultVersion = version === semver.parse(defaultVersion).version

  // can't use process.release if we're using --target=x.y.z
  if (!isDefaultVersion)
    defaultRelease = null

  if (defaultRelease) {
    // v3 onward, has process.release
    name = defaultRelease.name.replace(/io\.js/, 'iojs') // remove the '.' for directory naming purposes
    isIojs = name === 'iojs'
  } else {
    // old node or alternative --target=
    // semver.satisfies() doesn't like prerelease tags so test major directly
    isIojs = versionSemver.major &gt;= 1 &amp;&amp; versionSemver.major &lt; 4
    name = isIojs ? 'iojs' : 'node'
  }

  // check for the nvm.sh standard mirror env variables
  if (!overrideDistUrl) {
    if (isIojs) {
      if (process.env.IOJS_ORG_MIRROR) {
        overrideDistUrl = process.env.IOJS_ORG_MIRROR
      } else if (process.env.NVM_IOJS_ORG_MIRROR) {// remove on next semver-major
        overrideDistUrl = process.env.NVM_IOJS_ORG_MIRROR
        log.warn('download',
            'NVM_IOJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, ' +
            'please use IOJS_ORG_MIRROR')
      }
    } else {
      if (process.env.NODEJS_ORG_MIRROR) {
        overrideDistUrl = process.env.NODEJS_ORG_MIRROR
      } else if (process.env.NVM_NODEJS_ORG_MIRROR) {// remove on next semver-major
        overrideDistUrl = process.env.NVM_NODEJS_ORG_MIRROR
        log.warn('download',
            'NVM_NODEJS_ORG_MIRROR is deprecated and will be removed in node-gyp v4, ' +
            'please use NODEJS_ORG_MIRROR')
      }
    }
  }


  if (overrideDistUrl)
    distBaseUrl = overrideDistUrl.replace(/\/+$/, '')
  else
    distBaseUrl = isIojs ? 'https://iojs.org/download/release' : 'https://nodejs.org/dist'
  distBaseUrl += '/v' + version + '/'

  // new style, based on process.release so we have a lot of the data we need
  if (defaultRelease &amp;&amp; defaultRelease.headersUrl &amp;&amp; !overrideDistUrl) {
    baseUrl = url.resolve(defaultRelease.headersUrl, './')
    libUrl32 = resolveLibUrl(name, defaultRelease.libUrl || baseUrl || distBaseUrl, 'x86', versionSemver.major)
    libUrl64 = resolveLibUrl(name, defaultRelease.libUrl || baseUrl || distBaseUrl, 'x64', versionSemver.major)

    return {
      version: version,
      semver: versionSemver,
      name: name,
      baseUrl: baseUrl,
      tarballUrl: defaultRelease.headersUrl,
      shasumsUrl: url.resolve(baseUrl, 'SHASUMS256.txt'),
      versionDir: (name !== 'node' ? name + '-' : '') + version,
      libUrl32: libUrl32,
      libUrl64: libUrl64,
      libPath32: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl32).path)),
      libPath64: normalizePath(path.relative(url.parse(baseUrl).path, url.parse(libUrl64).path))
    }
  }

  // older versions without process.release are captured here and we have to make
  // a lot of assumptions, additionally if you --target=x.y.z then we can't use the
  // current process.release

  baseUrl = distBaseUrl
  libUrl32 = resolveLibUrl(name, baseUrl, 'x86', versionSemver.major)
  libUrl64 = resolveLibUrl(name, baseUrl, 'x64', versionSemver.major)
  // making the bold assumption that anything with a version number &gt;3.0.0 will
  // have a *-headers.tar.gz file in its dist location, even some frankenstein
  // custom version
  canGetHeaders = semver.satisfies(versionSemver, headersTarballRange)
  tarballUrl = url.resolve(baseUrl, name + '-v' + version + (canGetHeaders ...</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.rebuild" id="apidoc.module.nw-gyp.rebuild">module nw-gyp.rebuild</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.rebuild.rebuild" id="apidoc.element.nw-gyp.rebuild.rebuild">
        function <span class="apidocSignatureSpan">nw-gyp.</span>rebuild
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function rebuild(gyp, argv, callback) {

  gyp.todo.push(
      { name: 'clean', args: [] }
    , { name: 'configure', args: argv }
    , { name: 'build', args: [] }
  )
  process.nextTick(callback)
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.remove" id="apidoc.module.nw-gyp.remove">module nw-gyp.remove</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.remove.remove" id="apidoc.element.nw-gyp.remove.remove">
        function <span class="apidocSignatureSpan">nw-gyp.</span>remove
        <span class="apidocSignatureSpan">(gyp, argv, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(gyp, argv, callback) {

  var devDir = gyp.devDir
  log.verbose('remove', 'using nw-gyp dir:', devDir)

  // get the user-specified version to remove
  var version = argv[0] || gyp.opts.target
  log.verbose('remove', 'removing target version:', version)

  if (!version) {
    return callback(new Error('You must specify a version number to remove. Ex: "' + process.version + '"'))
  }

  var versionSemver = semver.parse(version)
  if (versionSemver) {
    // flatten the version Array into a String
    version = versionSemver.version
  }

  var versionPath = path.resolve(gyp.devDir, version)
  log.verbose('remove', 'removing development files for version:', version)

  // first check if its even installed
  fs.stat(versionPath, function (err, stat) {
    if (err) {
      if (err.code == 'ENOENT') {
        callback(null, 'version was already uninstalled: ' + version)
      } else {
        callback(err)
      }
      return
    }
    // Go ahead and delete the dir
    rm(versionPath, callback)
  })

}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
// ensure no double-callbacks happen
function cb (err) {
  if (cb.done) return
  cb.done = true
  if (err) {
    log.warn('install', 'got an error, rolling back install')
    // roll-back the install if anything went wrong
    gyp.commands.<span class="apidocCodeKeywordSpan">remove</span>([ release.versionDir ], function (err2) {
      callback(err)
    })
  } else {
    callback(null, release.version)
  }
}
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.nw-gyp.toString" id="apidoc.module.nw-gyp.toString">module nw-gyp.toString</a></h1>


    <h2>
        <a href="#apidoc.element.nw-gyp.toString.toString" id="apidoc.element.nw-gyp.toString.toString">
        function <span class="apidocSignatureSpan">nw-gyp.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function toString() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">...
          }

          var chunks = []
          res.on('data', function (chunk) {
            chunks.push(chunk)
          })
          res.on('end', function () {
            var lines = Buffer.concat(chunks).<span class="apidocCodeKeywordSpan">toString</span>().trim().split('\n')
            lines.forEach(function (line) {
var items = line.trim().split(/\s+/)
if (items.length !== 2) return

// 0035d18e2dcf9aad669b1c7c07319e17abfe3762  ./node-v0.11.4.tar.gz
var name = items[1].replace(/^\.\//, '')
expectShasums[name] = items[0]
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
</body></html>